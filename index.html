<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ë¬´ë£Œ ì°¨íŠ¸ ìƒì„±ê¸°. Line, Bar, Pie, Doughnut ì°¨íŠ¸ë¥¼ ë¹ ë¥´ê²Œ ë§Œë“œì„¸ìš”. CSV ë°ì´í„° ì§€ì›. PNG ë‹¤ìš´ë¡œë“œ.">
    <meta name="keywords" content="ì°¨íŠ¸ ìƒì„±ê¸°, ê·¸ë˜í”„ ë§Œë“¤ê¸°, ë°ì´í„° ì‹œê°í™”, ë¬´ë£Œ ì°¨íŠ¸, CSV ì°¨íŠ¸, ë§‰ëŒ€ ê·¸ë˜í”„, ì›í˜• ê·¸ë˜í”„">
    <meta name="author" content="BAAL">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://chart.baal.co.kr/">
    <meta property="og:title" content="ì°¨íŠ¸ ìƒì„±ê¸° - ë¬´ë£Œ ì˜¨ë¼ì¸ ë„êµ¬">
    <meta property="og:description" content="Line, Bar, Pie ì°¨íŠ¸ë¥¼ ë¬´ë£Œë¡œ ìƒì„±í•˜ì„¸ìš”. CSV ì§€ì›, PNG ë‹¤ìš´ë¡œë“œ.">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://chart.baal.co.kr/">
    <meta property="twitter:title" content="ì°¨íŠ¸ ìƒì„±ê¸° - ë¬´ë£Œ ì˜¨ë¼ì¸ ë„êµ¬">
    <meta property="twitter:description" content="ë°ì´í„° ì‹œê°í™” ì°¨íŠ¸ë¥¼ ë¹ ë¥´ê²Œ ë§Œë“œì„¸ìš”.">

    <title>ì°¨íŠ¸ ìƒì„±ê¸° - BAAL</title>

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2886185075996969"
     crossorigin="anonymous"></script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-XXXXXXXXXX');
    </script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <!-- ê³µí†µ ìŠ¤íƒ€ì¼ -->
    <link rel="stylesheet" href="_common/common.css">
    <style>
        /* ì°¨íŠ¸ íƒ€ì… ì„ íƒ ì˜ì—­ */
        .chart-type-section {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        /* ì°¨íŠ¸ íƒ€ì… ì„ íƒ */
        .chart-types {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            flex: 1;
        }

        .chart-type-btn {
            padding: 8px 12px;
            border: 2px solid var(--border-color);
            background: var(--bg-secondary);
            color: var(--text-primary);
            border-radius: var(--border-radius-md);
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.85em;
            font-weight: 600;
            text-align: center;
            display: flex;
            align-items: center;
            gap: 6px;
            white-space: nowrap;
        }

        .chart-type-btn:hover {
            border-color: var(--gold-primary);
            background: var(--bg-accent);
        }

        .chart-type-btn.active {
            background: var(--gold-gradient);
            color: white;
            border-color: var(--gold-primary);
            box-shadow: var(--shadow-sm);
        }

        .chart-icon {
            width: 18px;
            height: 18px;
            stroke: currentColor;
        }

        /* ë°ì´í„° ì…ë ¥ */
        .data-section {
            background: var(--bg-accent);
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius-lg);
            padding: 25px;
            margin-bottom: 25px;
        }

        .data-label {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 15px;
            display: block;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
        }

        .data-table th,
        .data-table td {
            padding: 10px;
            border: 1px solid var(--border-color);
            text-align: left;
        }

        .data-table th {
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-weight: 600;
        }

        .data-table input {
            width: 100%;
            padding: 8px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background: var(--bg-secondary);
            color: var(--text-primary);
        }

        .add-row-btn {
            padding: 10px 20px;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius-sm);
            color: var(--text-primary);
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }

        .add-row-btn:hover {
            border-color: var(--gold-primary);
            background: var(--bg-accent);
        }

        /* ì°¨íŠ¸ ìº”ë²„ìŠ¤ */
        .chart-container {
            background: var(--bg-accent);
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius-lg);
            padding: 30px;
            margin-bottom: 25px;
            position: relative;
        }

        #chartCanvas {
            max-width: 100%;
            height: auto;
        }

        /* ì»¤ìŠ¤í„°ë§ˆì´ì§• ì˜µì…˜ */
        .options-section {
            background: var(--bg-accent);
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius-lg);
            padding: 25px;
            margin-bottom: 25px;
        }

        .option-row {
            display: flex;
            gap: 15px;
            align-items: center;
            margin-bottom: 15px;
        }

        .option-row:last-child {
            margin-bottom: 0;
        }

        .option-label {
            font-weight: 600;
            color: var(--text-primary);
            min-width: 100px;
            font-size: 0.95em;
        }

        .option-control {
            flex: 1;
        }

        .option-select {
            padding: 10px 14px;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius-sm);
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 1em;
            cursor: pointer;
        }

        /* ë²„íŠ¼ */
        .btn-generate {
            padding: 16px 48px;
            background: var(--gold-gradient);
            color: white;
            border: 2px solid var(--gold-primary);
            border-radius: var(--border-radius-md);
            font-weight: 700;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.2s;
            display: block;
            margin: 0 auto;
        }

        .btn-generate:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        .btn-download {
            padding: 14px 32px;
            background: var(--gold-gradient);
            color: white;
            border: 2px solid var(--gold-primary);
            border-radius: var(--border-radius-md);
            font-weight: 600;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-download:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .download-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
            flex-wrap: wrap;
        }


        /* Range ìŠ¬ë¼ì´ë” ìŠ¤íƒ€ì¼ */
        .option-range {
            -webkit-appearance: none;
            appearance: none;
            height: 6px;
            background: var(--border-color);
            border-radius: 3px;
            outline: none;
        }

        .option-range::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            background: var(--gold-gradient);
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .option-range::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        .option-range::-moz-range-thumb {
            width: 18px;
            height: 18px;
            background: var(--gold-gradient);
            border-radius: 50%;
            border: none;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .option-range::-moz-range-thumb:hover {
            transform: scale(1.2);
        }

        /* ì»¤ìŠ¤í…€ ìƒ‰ìƒ ì„ íƒ */
        .custom-color-picker {
            width: 50px;
            height: 40px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .custom-color-picker:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-md);
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .chart-types {
                grid-template-columns: repeat(2, 1fr);
            }

            .option-row {
                flex-direction: column;
                align-items: flex-start;
            }

            .option-label {
                min-width: auto;
            }

            .option-control {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- ë‹¤í¬ëª¨ë“œ í† ê¸€ -->
    <div class="theme-toggle">
        <button id="themeToggle" aria-label="ë‹¤í¬ëª¨ë“œ ì „í™˜">
            <span class="icon-light">â˜€ï¸</span>
            <span class="icon-dark">ğŸŒ™</span>
        </button>
    </div>

    <!-- ì–¸ì–´ ì „í™˜ & ë„êµ¬ ë²„íŠ¼ -->
    <div class="lang-toggle">
        <button id="langToggle" data-lang="ko">
            <span class="lang-ko">EN</span>
            <span class="lang-en">KO</span>
        </button>
        <button id="toolsToggle">
            <span class="tooltip" data-ko="ë” ë§ì€ ë„êµ¬" data-en="More Tools">ë” ë§ì€ ë„êµ¬</span>
            ğŸ§°
        </button>
    </div>

    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
    <div class="container">
        <header>
            <h1 data-ko="ì°¨íŠ¸ ìƒì„±ê¸°" data-en="Chart Generator">ì°¨íŠ¸ ìƒì„±ê¸°</h1>
            <p class="subtitle" data-ko="ë°ì´í„°ë¥¼ ì•„ë¦„ë‹¤ìš´ ì°¨íŠ¸ë¡œ ì‹œê°í™”í•˜ì„¸ìš”" data-en="Visualize your data with beautiful charts">ë°ì´í„°ë¥¼ ì•„ë¦„ë‹¤ìš´ ì°¨íŠ¸ë¡œ ì‹œê°í™”í•˜ì„¸ìš”</p>
        </header>

        <main>
            <!-- ğŸ“ ë°ì´í„° ì…ë ¥ -->
            <div class="data-section">
                <label class="data-label">
                    <span data-ko="ğŸ“ ë°ì´í„° ì…ë ¥" data-en="ğŸ“ Enter Data">ğŸ“ ë°ì´í„° ì…ë ¥</span>
                </label>
                <div style="margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center; gap: 10px; flex-wrap: wrap;">
                    <input type="file" id="csvInput" accept=".csv" style="display: none;">
                    <div>
                        <small style="color: var(--text-secondary);" data-ko="CSV í˜•ì‹: ì²« í–‰ ë ˆì´ë¸”, ì´í›„ í–‰ ë°ì´í„°" data-en="CSV format: First row labels, then data rows">CSV í˜•ì‹: ì²« í–‰ ë ˆì´ë¸”, ì´í›„ í–‰ ë°ì´í„°</small>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="add-row-btn" id="csvUploadBtn" data-ko="ğŸ“„ CSV ì—…ë¡œë“œ" data-en="ğŸ“„ Upload CSV">ğŸ“„ CSV ì—…ë¡œë“œ</button>
                        <button class="add-row-btn" id="addRowBtn" data-ko="â• í–‰ ì¶”ê°€" data-en="â• Add Row">â• í–‰ ì¶”ê°€</button>
                        <button class="add-row-btn" id="deleteRowBtn" data-ko="ğŸ—‘ï¸ ì„ íƒí–‰ ì‚­ì œ" data-en="ğŸ—‘ï¸ Delete Selected" style="background: rgba(255, 68, 68, 0.1); border-color: #ff4444; color: #ff4444;">ğŸ—‘ï¸ ì„ íƒí–‰ ì‚­ì œ</button>
                        <button class="add-row-btn" id="generateBtnTable" data-ko="ğŸ“Š ì°¨íŠ¸ ìƒì„±" data-en="ğŸ“Š Generate" style="background: var(--gold-gradient); border-color: var(--gold-primary); color: white; font-weight: 700;">ğŸ“Š ì°¨íŠ¸ ìƒì„±</button>
                    </div>
                </div>
                <table class="data-table" id="dataTable">
                    <thead>
                        <tr>
                            <th style="width: 40px;"><input type="checkbox" id="selectAllCheckbox" style="width: auto; cursor: pointer;"></th>
                            <th data-ko="ë ˆì´ë¸”" data-en="Label">ë ˆì´ë¸”</th>
                            <th data-ko="ê°’" data-en="Value">ê°’</th>
                        </tr>
                    </thead>
                    <tbody id="dataRows">
                        <tr>
                            <td><input type="checkbox" class="row-checkbox" style="width: auto; cursor: pointer;"></td>
                            <td><input type="text" placeholder="í•­ëª©ëª… ì…ë ¥" data-row="0" data-col="label"></td>
                            <td><input type="number" placeholder="ê°’ ì…ë ¥" data-row="0" data-col="value"></td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" class="row-checkbox" style="width: auto; cursor: pointer;"></td>
                            <td><input type="text" placeholder="í•­ëª©ëª… ì…ë ¥" data-row="1" data-col="label"></td>
                            <td><input type="number" placeholder="ê°’ ì…ë ¥" data-row="1" data-col="value"></td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" class="row-checkbox" style="width: auto; cursor: pointer;"></td>
                            <td><input type="text" placeholder="í•­ëª©ëª… ì…ë ¥" data-row="2" data-col="label"></td>
                            <td><input type="number" placeholder="ê°’ ì…ë ¥" data-row="2" data-col="value"></td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" class="row-checkbox" style="width: auto; cursor: pointer;"></td>
                            <td><input type="text" placeholder="í•­ëª©ëª… ì…ë ¥" data-row="3" data-col="label"></td>
                            <td><input type="number" placeholder="ê°’ ì…ë ¥" data-row="3" data-col="value"></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- ğŸ¨ ì»¤ìŠ¤í„°ë§ˆì´ì§• ì˜µì…˜ -->
            <div class="options-section">
                <label class="data-label">
                    <span data-ko="ğŸ¨ ì»¤ìŠ¤í„°ë§ˆì´ì§• (ì„ íƒì‚¬í•­)" data-en="ğŸ¨ Customization (Optional)">ğŸ¨ ì»¤ìŠ¤í„°ë§ˆì´ì§• (ì„ íƒì‚¬í•­)</span>
                </label>

                <div class="option-row">
                    <span class="option-label" data-ko="ìƒ‰ìƒ í…Œë§ˆ" data-en="Color Theme">ìƒ‰ìƒ í…Œë§ˆ</span>
                    <div class="option-control">
                        <select class="option-select" id="colorPalette">
                            <option value="default" data-ko="ê¸°ë³¸ (ë¸”ë£¨/í•‘í¬)" data-en="Default (Blue/Pink)">ê¸°ë³¸ (ë¸”ë£¨/í•‘í¬)</option>
                            <option value="pastel" data-ko="íŒŒìŠ¤í…” (ë¶€ë“œëŸ¬ì›€)" data-en="Pastel (Soft)">íŒŒìŠ¤í…” (ë¶€ë“œëŸ¬ì›€)</option>
                            <option value="vivid" data-ko="ë¹„ë¹„ë“œ (ì„ ëª…)" data-en="Vivid (Bright)">ë¹„ë¹„ë“œ (ì„ ëª…)</option>
                            <option value="gold" data-ko="ê³¨ë“œ (ê³ ê¸‰)" data-en="Gold (Luxury)">ê³¨ë“œ (ê³ ê¸‰)</option>
                            <option value="nature" data-ko="ìì—° (ê·¸ë¦°)" data-en="Nature (Green)">ìì—° (ê·¸ë¦°)</option>
                            <option value="ocean" data-ko="ì˜¤ì…˜ (ë¸”ë£¨)" data-en="Ocean (Blue)">ì˜¤ì…˜ (ë¸”ë£¨)</option>
                            <option value="sunset" data-ko="ì„ì–‘ (ì›œí†¤)" data-en="Sunset (Warm)">ì„ì–‘ (ì›œí†¤)</option>
                            <option value="business" data-ko="ë¹„ì¦ˆë‹ˆìŠ¤ (ì°¨ë¶„)" data-en="Business (Professional)">ë¹„ì¦ˆë‹ˆìŠ¤ (ì°¨ë¶„)</option>
                            <option value="custom" data-ko="ì»¤ìŠ¤í…€ (ì§ì ‘ ì„ íƒ)" data-en="Custom (Choose Colors)">ì»¤ìŠ¤í…€ (ì§ì ‘ ì„ íƒ)</option>
                        </select>
                    </div>
                </div>

                <!-- ì»¤ìŠ¤í…€ ìƒ‰ìƒ ì„ íƒ (íŒ”ë ˆíŠ¸ê°€ customì¼ ë•Œë§Œ í‘œì‹œ) -->
                <div class="option-row" id="customColorsRow" style="display: none;">
                    <span class="option-label" data-ko="ìƒ‰ìƒ ì„ íƒ" data-en="Choose Colors">ìƒ‰ìƒ ì„ íƒ</span>
                    <div class="option-control" style="display: flex; flex-wrap: wrap; gap: 8px;">
                        <input type="color" class="custom-color-picker" data-index="0" value="#ff6384" title="ìƒ‰ìƒ 1">
                        <input type="color" class="custom-color-picker" data-index="1" value="#36a2eb" title="ìƒ‰ìƒ 2">
                        <input type="color" class="custom-color-picker" data-index="2" value="#ffce56" title="ìƒ‰ìƒ 3">
                        <input type="color" class="custom-color-picker" data-index="3" value="#4bc0c0" title="ìƒ‰ìƒ 4">
                        <input type="color" class="custom-color-picker" data-index="4" value="#9966ff" title="ìƒ‰ìƒ 5">
                        <input type="color" class="custom-color-picker" data-index="5" value="#ff9f40" title="ìƒ‰ìƒ 6">
                        <input type="color" class="custom-color-picker" data-index="6" value="#ff6347" title="ìƒ‰ìƒ 7">
                        <input type="color" class="custom-color-picker" data-index="7" value="#6495ed" title="ìƒ‰ìƒ 8">
                    </div>
                </div>

                <div class="option-row">
                    <span class="option-label" data-ko="íˆ¬ëª…ë„" data-en="Opacity">íˆ¬ëª…ë„</span>
                    <div class="option-control" style="display: flex; align-items: center; gap: 12px;">
                        <input type="range" class="option-range" id="colorOpacity" min="0" max="100" value="70" style="flex: 1;">
                        <span id="opacityValue" style="min-width: 45px; font-weight: 600; color: var(--text-primary);">70%</span>
                    </div>
                </div>

                <div class="option-row">
                    <span class="option-label" data-ko="í…Œë‘ë¦¬ ë‘ê»˜" data-en="Border Width">í…Œë‘ë¦¬ ë‘ê»˜</span>
                    <div class="option-control" style="display: flex; align-items: center; gap: 12px;">
                        <input type="range" class="option-range" id="borderWidth" min="0" max="8" value="2" style="flex: 1;">
                        <span id="borderValue" style="min-width: 45px; font-weight: 600; color: var(--text-primary);">2px</span>
                    </div>
                </div>

                <div class="option-row">
                    <span class="option-label" data-ko="ì„  ê³¡ë¥ " data-en="Line Tension">ì„  ê³¡ë¥ </span>
                    <div class="option-control" style="display: flex; align-items: center; gap: 12px;">
                        <input type="range" class="option-range" id="lineTension" min="0" max="100" value="40" style="flex: 1;">
                        <span id="tensionValue" style="min-width: 45px; font-weight: 600; color: var(--text-primary);">0.4</span>
                    </div>
                </div>

                <div class="option-row">
                    <span class="option-label" data-ko="ë²”ë¡€ ìœ„ì¹˜" data-en="Legend Position">ë²”ë¡€ ìœ„ì¹˜</span>
                    <div class="option-control">
                        <select class="option-select" id="legendPosition">
                            <option value="top" data-ko="ìƒë‹¨" data-en="Top">ìƒë‹¨</option>
                            <option value="bottom" data-ko="í•˜ë‹¨" data-en="Bottom">í•˜ë‹¨</option>
                            <option value="left" data-ko="ì™¼ìª½" data-en="Left">ì™¼ìª½</option>
                            <option value="right" data-ko="ì˜¤ë¥¸ìª½" data-en="Right">ì˜¤ë¥¸ìª½</option>
                        </select>
                    </div>
                </div>

                <div class="option-row">
                    <span class="option-label" data-ko="ì• ë‹ˆë©”ì´ì…˜" data-en="Animation">ì• ë‹ˆë©”ì´ì…˜</span>
                    <div class="option-control">
                        <select class="option-select" id="animationDuration">
                            <option value="0" data-ko="ì—†ìŒ" data-en="None">ì—†ìŒ</option>
                            <option value="500" data-ko="ë¹ ë¦„ (0.5ì´ˆ)" data-en="Fast (0.5s)">ë¹ ë¦„ (0.5ì´ˆ)</option>
                            <option value="1000" selected data-ko="ë³´í†µ (1ì´ˆ)" data-en="Normal (1s)">ë³´í†µ (1ì´ˆ)</option>
                            <option value="2000" data-ko="ëŠë¦¼ (2ì´ˆ)" data-en="Slow (2s)">ëŠë¦¼ (2ì´ˆ)</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- 4ï¸âƒ£ ì°¨íŠ¸ ë¯¸ë¦¬ë³´ê¸° -->
            <div class="chart-container">
                <canvas id="chartCanvas"></canvas>
            </div>

            <!-- ì°¨íŠ¸ íƒ€ì… ì„ íƒ & ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ -->
            <div class="chart-type-section">
                <div class="chart-types">
                    <button class="chart-type-btn active" data-type="line">
                        <svg class="chart-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
                        <span data-ko="ì„ " data-en="Line">ì„ </span>
                    </button>
                    <button class="chart-type-btn" data-type="bar">
                        <svg class="chart-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line></svg>
                        <span data-ko="ë§‰ëŒ€" data-en="Bar">ë§‰ëŒ€</span>
                    </button>
                    <button class="chart-type-btn" data-type="pie">
                        <svg class="chart-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path></svg>
                        <span data-ko="ì›í˜•" data-en="Pie">ì›í˜•</span>
                    </button>
                    <button class="chart-type-btn" data-type="doughnut">
                        <svg class="chart-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><path d="M12 2 L12 8"></path><path d="M19.07 4.93 L14.83 9.17"></path></svg>
                        <span data-ko="ë„ë„›" data-en="Doughnut">ë„ë„›</span>
                    </button>
                    <button class="chart-type-btn" data-type="radar">
                        <svg class="chart-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2, 22 12, 17 22, 7 22, 2 12"></polygon><polygon points="12 7, 18 12, 15 18, 9 18, 6 12"></polygon><line x1="12" y1="2" x2="12" y2="7"></line><line x1="22" y1="12" x2="18" y2="12"></line></svg>
                        <span data-ko="ë°©ì‚¬í˜•" data-en="Radar">ë°©ì‚¬í˜•</span>
                    </button>
                    <button class="chart-type-btn" data-type="polarArea">
                        <svg class="chart-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="2" x2="12" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="5.64" y1="5.64" x2="18.36" y2="18.36"></line><line x1="5.64" y1="18.36" x2="18.36" y2="5.64"></line></svg>
                        <span data-ko="ê·¹ì¢Œí‘œ" data-en="Polar">ê·¹ì¢Œí‘œ</span>
                    </button>
                </div>
                <button class="btn-download" id="downloadPNG" data-ko="PNG ë‹¤ìš´ë¡œë“œ" data-en="Download PNG">PNG ë‹¤ìš´ë¡œë“œ</button>
            </div>
        </main>

        <footer>
            <div class="footer-content">
                <p class="footer-brand">
                    Made by <a href="https://baal.co.kr" target="_blank">BAAL</a>
                </p>
                <p class="footer-contact">
                    <a href="mailto:baal.contract@gmail.com">baal.contract@gmail.com</a>
                </p>
                <p class="footer-links">
                    <a href="https://baal.co.kr/privacy" target="_blank" data-ko="ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨" data-en="Privacy Policy">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                    <span class="separator">|</span>
                    <a href="https://baal.co.kr/terms" target="_blank" data-ko="ì´ìš©ì•½ê´€" data-en="Terms of Service">ì´ìš©ì•½ê´€</a>
                </p>
                <p class="footer-copyright">&copy; 2025 BAAL. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <!-- ê³µí†µ ìŠ¤í¬ë¦½íŠ¸ -->
    <script src="_common/common.js"></script>
    <script>
        // ê°•ì œë¡œ ìŠ¤í¬ë¡¤ ë§¨ ìœ„ë¡œ
        if ('scrollRestoration' in history) {
            history.scrollRestoration = 'manual';
        }
        window.scrollTo(0, 0);

        window.addEventListener('load', () => {
            window.scrollTo(0, 0);
        });

        document.addEventListener('DOMContentLoaded', () => {
            window.scrollTo(0, 0);

            // ì…ë ¥ê°’ ì´ˆê¸°í™” (ìƒˆë¡œê³ ì¹¨ ì‹œ)
            document.querySelectorAll('input[type="text"], input[type="number"], textarea').forEach(el => {
                el.value = '';
            });
        });

        let currentChartType = 'line';
        let chartInstance = null;

        // ìƒ‰ìƒ íŒ”ë ˆíŠ¸ (RGB ê°’ë§Œ, íˆ¬ëª…ë„ëŠ” ë™ì  ì ìš©)
        const colorPalettes = {
            default: [
                [255, 99, 132],
                [54, 162, 235],
                [255, 206, 86],
                [75, 192, 192],
                [153, 102, 255],
                [255, 159, 64],
                [255, 99, 71],
                [100, 149, 237]
            ],
            pastel: [
                [255, 179, 186],
                [186, 225, 255],
                [255, 223, 186],
                [186, 255, 201],
                [226, 186, 255],
                [255, 218, 185],
                [221, 160, 221],
                [175, 238, 238]
            ],
            vivid: [
                [255, 0, 0],
                [0, 0, 255],
                [255, 255, 0],
                [0, 255, 0],
                [255, 0, 255],
                [0, 255, 255],
                [255, 69, 0],
                [138, 43, 226]
            ],
            gold: [
                [212, 175, 55],
                [218, 165, 32],
                [184, 134, 11],
                [255, 215, 0],
                [238, 232, 170],
                [189, 183, 107],
                [205, 149, 12],
                [139, 117, 0]
            ],
            nature: [
                [34, 139, 34],
                [50, 205, 50],
                [144, 238, 144],
                [0, 128, 0],
                [107, 142, 35],
                [154, 205, 50],
                [46, 125, 50],
                [76, 175, 80]
            ],
            ocean: [
                [0, 105, 148],
                [0, 191, 255],
                [30, 144, 255],
                [70, 130, 180],
                [100, 149, 237],
                [135, 206, 250],
                [0, 119, 190],
                [3, 155, 229]
            ],
            sunset: [
                [255, 99, 71],
                [255, 140, 0],
                [255, 165, 0],
                [255, 127, 80],
                [255, 69, 0],
                [255, 192, 203],
                [244, 67, 54],
                [255, 87, 34]
            ],
            business: [
                [66, 66, 66],
                [97, 97, 97],
                [117, 117, 117],
                [158, 158, 158],
                [189, 189, 189],
                [224, 224, 224],
                [33, 33, 33],
                [130, 130, 130]
            ],
            custom: [
                [255, 99, 132],
                [54, 162, 235],
                [255, 206, 86],
                [75, 192, 192],
                [153, 102, 255],
                [255, 159, 64],
                [255, 99, 71],
                [100, 149, 237]
            ]
        };

        // íƒ€ì… ì„ íƒ
        document.querySelectorAll('.chart-type-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                currentChartType = btn.dataset.type;
                document.querySelectorAll('.chart-type-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
            });
        });

        // Range ìŠ¬ë¼ì´ë” ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
        const opacitySlider = document.getElementById('colorOpacity');
        const opacityValue = document.getElementById('opacityValue');
        const borderSlider = document.getElementById('borderWidth');
        const borderValue = document.getElementById('borderValue');
        const tensionSlider = document.getElementById('lineTension');
        const tensionValue = document.getElementById('tensionValue');

        if (opacitySlider && opacityValue) {
            opacitySlider.addEventListener('input', (e) => {
                opacityValue.textContent = e.target.value + '%';
            });
        }

        if (borderSlider && borderValue) {
            borderSlider.addEventListener('input', (e) => {
                borderValue.textContent = e.target.value + 'px';
            });
        }

        if (tensionSlider && tensionValue) {
            tensionSlider.addEventListener('input', (e) => {
                const val = (e.target.value / 100).toFixed(1);
                tensionValue.textContent = val;
            });
        }

        // ìƒ‰ìƒ íŒ”ë ˆíŠ¸ ë³€ê²½ ì‹œ ì»¤ìŠ¤í…€ ìƒ‰ìƒ ì„¹ì…˜ í‘œì‹œ/ìˆ¨ê¹€
        const colorPaletteSelect = document.getElementById('colorPalette');
        const customColorsRow = document.getElementById('customColorsRow');

        if (colorPaletteSelect && customColorsRow) {
            colorPaletteSelect.addEventListener('change', (e) => {
                if (e.target.value === 'custom') {
                    customColorsRow.style.display = 'flex';
                } else {
                    customColorsRow.style.display = 'none';
                }
            });
        }

        // ì»¤ìŠ¤í…€ ìƒ‰ìƒ picker ë³€ê²½ ì‹œ colorPalettes ì—…ë°ì´íŠ¸
        document.querySelectorAll('.custom-color-picker').forEach(picker => {
            picker.addEventListener('change', (e) => {
                const index = parseInt(e.target.dataset.index);
                const hex = e.target.value;

                // hex to RGB ë³€í™˜
                const r = parseInt(hex.slice(1, 3), 16);
                const g = parseInt(hex.slice(3, 5), 16);
                const b = parseInt(hex.slice(5, 7), 16);

                colorPalettes.custom[index] = [r, g, b];
            });
        });

        // í–‰ ì¶”ê°€
        document.getElementById('addRowBtn').addEventListener('click', () => {
            const tbody = document.getElementById('dataRows');
            const rowCount = tbody.children.length;
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td><input type="checkbox" class="row-checkbox" style="width: auto; cursor: pointer;"></td>
                <td><input type="text" placeholder="í•­ëª©ëª… ì…ë ¥" data-row="${rowCount}" data-col="label"></td>
                <td><input type="number" placeholder="ê°’ ì…ë ¥" data-row="${rowCount}" data-col="value"></td>
            `;
            tbody.appendChild(newRow);
        });

        // ì„ íƒí–‰ ì‚­ì œ
        document.getElementById('deleteRowBtn').addEventListener('click', () => {
            const checkboxes = document.querySelectorAll('.row-checkbox:checked');

            if (checkboxes.length === 0) {
                window.BaalUtils.showToast('ì‚­ì œí•  í–‰ì„ ì„ íƒí•˜ì„¸ìš”.', 'error', 5000);
                return;
            }

            checkboxes.forEach(checkbox => {
                checkbox.closest('tr').remove();
            });

            window.BaalUtils.showToast(`${checkboxes.length}ê°œ í–‰ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success', 5000);
        });

        // ì „ì²´ ì„ íƒ ì²´í¬ë°•ìŠ¤
        document.getElementById('selectAllCheckbox').addEventListener('change', (e) => {
            const checkboxes = document.querySelectorAll('.row-checkbox');
            checkboxes.forEach(cb => cb.checked = e.target.checked);
        });

        // CSV ì—…ë¡œë“œ
        document.getElementById('csvUploadBtn').addEventListener('click', () => {
            document.getElementById('csvInput').click();
        });

        document.getElementById('csvInput').addEventListener('change', async (e) => {
            const file = e.target.files[0];
            if (!file) return;

            try {
                const text = await file.text();
                const lines = text.split('\n').filter(line => line.trim());

                if (lines.length < 2) {
                    window.BaalUtils.showToast('CSV íŒŒì¼ì´ ë¹„ì–´ìˆê±°ë‚˜ í˜•ì‹ì´ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.', 'error', 5000);
                    return;
                }

                // í…Œì´ë¸” ì´ˆê¸°í™”
                const tbody = document.getElementById('dataRows');
                tbody.innerHTML = '';

                // ì²« í–‰ì€ ê±´ë„ˆë›°ê³  (ë ˆì´ë¸”), ë°ì´í„° í–‰ë§Œ íŒŒì‹±
                for (let i = 1; i < lines.length; i++) {
                    const values = lines[i].split(',').map(v => v.trim());
                    if (values.length >= 2) {
                        const newRow = document.createElement('tr');
                        newRow.innerHTML = `
                            <td><input type="checkbox" class="row-checkbox" style="width: auto; cursor: pointer;"></td>
                            <td><input type="text" value="${values[0]}" data-row="${i-1}" data-col="label"></td>
                            <td><input type="number" value="${parseFloat(values[1]) || 0}" data-row="${i-1}" data-col="value"></td>
                        `;
                        tbody.appendChild(newRow);
                    }
                }

                window.BaalUtils.showToast(`CSV íŒŒì¼ ë¡œë“œ ì™„ë£Œ! (${lines.length - 1}ê°œ í–‰)`, 'success', 5000);

                // ìë™ìœ¼ë¡œ ì°¨íŠ¸ ìƒì„±
                setTimeout(() => generateChart(), 500);

            } catch (error) {
                console.error('CSV parse error:', error);
                window.BaalUtils.showToast('CSV íŒŒì¼ ì½ê¸° ì‹¤íŒ¨: ' + error.message, 'error', 5000);
            }
        });

        // ì°¨íŠ¸ ìƒì„± ë²„íŠ¼ ì´ë²¤íŠ¸ (í…Œì´ë¸” ì˜ì—­ ë²„íŠ¼ë§Œ)
        const generateBtnTable = document.getElementById('generateBtnTable');

        if (generateBtnTable) {
            generateBtnTable.addEventListener('click', () => {
                generateChart();
            });
        }

        function generateChart() {
            const rows = Array.from(document.querySelectorAll('#dataRows tr'));
            const labels = [];
            const data = [];

            rows.forEach(row => {
                const labelInput = row.querySelector('[data-col="label"]');
                const valueInput = row.querySelector('[data-col="value"]');

                if (labelInput && valueInput) {
                    labels.push(labelInput.value || 'í•­ëª©');
                    data.push(parseFloat(valueInput.value) || 0);
                }
            });

            if (data.length === 0) {
                window.BaalUtils.showToast('ë°ì´í„°ë¥¼ ì…ë ¥í•˜ì„¸ìš”.', 'error', 5000);
                return;
            }

            const palette = document.getElementById('colorPalette').value;
            const opacity = parseInt(document.getElementById('colorOpacity').value) / 100;
            const borderWidth = parseInt(document.getElementById('borderWidth').value);
            const tension = parseInt(document.getElementById('lineTension').value) / 100;
            const legendPosition = document.getElementById('legendPosition').value;
            const animationDuration = parseInt(document.getElementById('animationDuration').value);

            const rgbColors = colorPalettes[palette];
            const backgroundColors = data.map((_, i) => {
                const [r, g, b] = rgbColors[i % rgbColors.length];
                return `rgba(${r}, ${g}, ${b}, ${opacity})`;
            });
            const borderColors = data.map((_, i) => {
                const [r, g, b] = rgbColors[i % rgbColors.length];
                return `rgba(${r}, ${g}, ${b}, 1)`;
            });

            if (chartInstance) {
                chartInstance.destroy();
            }

            const ctx = document.getElementById('chartCanvas').getContext('2d');

            const datasetOptions = {
                label: 'ë°ì´í„°',
                data: data,
                backgroundColor: backgroundColors,
                borderColor: borderColors,
                borderWidth: borderWidth,
                tension: tension
            };

            if (currentChartType === 'line') {
                datasetOptions.fill = false;
                datasetOptions.pointRadius = 4;
                datasetOptions.pointHoverRadius = 6;
            }

            if (currentChartType === 'radar') {
                datasetOptions.fill = true;
                datasetOptions.pointRadius = 3;
            }

            chartInstance = new Chart(ctx, {
                type: currentChartType,
                data: {
                    labels: labels,
                    datasets: [datasetOptions]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    animation: {
                        duration: animationDuration
                    },
                    plugins: {
                        legend: {
                            position: legendPosition,
                            labels: {
                                color: getComputedStyle(document.body).getPropertyValue('--text-primary').trim(),
                                padding: 15,
                                font: {
                                    size: 12,
                                    weight: '600'
                                }
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            padding: 12,
                            titleFont: {
                                size: 14,
                                weight: 'bold'
                            },
                            bodyFont: {
                                size: 13
                            },
                            cornerRadius: 8
                        }
                    },
                    scales: (currentChartType === 'pie' || currentChartType === 'doughnut' || currentChartType === 'polarArea') ? {} : {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: getComputedStyle(document.body).getPropertyValue('--text-secondary').trim(),
                                font: {
                                    size: 11
                                }
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.08)',
                                drawBorder: false
                            }
                        },
                        x: {
                            ticks: {
                                color: getComputedStyle(document.body).getPropertyValue('--text-secondary').trim(),
                                font: {
                                    size: 11
                                }
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.08)',
                                drawBorder: false
                            }
                        }
                    }
                }
            });

            window.BaalUtils.showToast('ì°¨íŠ¸ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success', 5000);
        }

        // PNG ë‹¤ìš´ë¡œë“œ
        document.getElementById('downloadPNG').addEventListener('click', () => {
            if (!chartInstance) {
                window.BaalUtils.showToast('ë¨¼ì € ì°¨íŠ¸ë¥¼ ìƒì„±í•˜ì„¸ìš”.', 'error', 5000);
                return;
            }

            const canvas = document.getElementById('chartCanvas');
            canvas.toBlob((blob) => {
                window.BaalUtils.downloadFile(blob, 'chart.png');
                window.BaalUtils.showToast('PNG ë‹¤ìš´ë¡œë“œ ì™„ë£Œ!', 'success', 5000);
            }, 'image/png');
        });
    </script>
</body>
</html>
